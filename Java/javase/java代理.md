## 1. 静态代理

有**基于继承**和**基于聚合**的两种方式

缺点：

**想要修改不同的代理功能，或者想要对不同的业务类实施代理功能，则得新建一个代理类**，这样代理的功能多了或者需要代理的业务对象多了，代理类也会变得很多。



## 2. 动态代理

动态代理的代理类是**动态生成**的，而不是像静态写固定写死。

动态代理分为两大类：

- 基于接口的动态代理：JDK动态代理
- 基于类的动态代理：Cglib

### 2.1. JDK动态代理

步骤：

1. 编写需要被代理的类和接口
2. 编写代理类，**实现InvocationHandler接口，重写invoke方法**；

### 2.2. Cglib动态代理

与JDK动态代理不同，**JDK动态代理针对接口，代理的业务类必须实现接口，而Cglib动态代理是针对类实现代理**的（生成被代理的业务类的子类），因此不能代理声明为final类型的类和方法。



## 3. 静态代理和动态代理的区别

静态代理在代理前就知道要代理的是哪个对象，而动态代理是运行时才知道；

静态代理只能代理一类对象，而动态代理能代理任意对象；

